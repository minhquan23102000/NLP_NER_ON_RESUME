const { createDocument } = require('../test-utils');

describe('Header', () => {
  it('contains name', () => {
    const document = createDocument({
      "basics": {
        "name": "Papa Smurf"
      }
    });
    expect(document.querySelector('header h1').textContent).toBe('Papa Smurf');
  });

  it('contains label', () => {
    const document = createDocument({
      "basics": {
        "name": "Papa Smurf",
        "label": "Chief"
      }
    });
    expect(document.querySelector('header h4').textContent).toBe('Chief');
  });

  it('is not rendered if name is empty', () => {
    const document = createDocument({
      "basics": {
        "name": ""
      }
    });
    expect(document.querySelector("header")).toBeNull();
  });

  it('is not rendered if name is null', () => {
    const document = createDocument({
      "basics": {
        "name": null
      }
    });
    expect(document.querySelector("header")).toBeNull();
  });

  it('is not rendered if name is undefined', () => {
    const document = createDocument({
      "basics": {}
    });
    expect(document.querySelector("header")).toBeNull();
  });

  it('is not rendered if basics section is missing', () => {
    const document = createDocument();
    expect(document.querySelector("header")).toBeNull();
  });
});